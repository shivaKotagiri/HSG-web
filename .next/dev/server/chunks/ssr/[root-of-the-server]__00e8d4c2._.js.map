{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/components/admin-dashboard/AdminHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/admin-dashboard/AdminHeader.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin-dashboard/AdminHeader.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8S,GAC3U,4EACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/components/admin-dashboard/AdminHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/admin-dashboard/AdminHeader.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin-dashboard/AdminHeader.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","ignoreList":[0]}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/components/admin-dashboard/StatsOverview.tsx"],"sourcesContent":["import { Users, UserCheck, UserX, BarChart3 } from \"lucide-react\";\n\ninterface StatsProps {\n  stats: {\n    totalStudents: number;\n    presentToday: number;\n    absentToday: number;\n    percentage: number;\n  };\n}\n\nexport default function StatsOverview({ stats }: StatsProps) {\n  const safePercentage =\n    Number.isFinite(stats.percentage) ? stats.percentage : 0;\n\n  const cards = [\n    {\n      label: \"Total Students\",\n      value: stats.totalStudents,\n      icon: Users,\n      color: \"text-indigo-600\",\n      bg: \"bg-indigo-50\",\n      border: \"border-indigo-100\",\n    },\n    {\n      label: \"Present Today\",\n      value: stats.presentToday,\n      icon: UserCheck,\n      color: \"text-emerald-600\",\n      bg: \"bg-emerald-50\",\n      border: \"border-emerald-100\",\n    },\n    {\n      label: \"Absent Today\",\n      value: stats.absentToday,\n      icon: UserX,\n      color: \"text-rose-600\",\n      bg: \"bg-rose-50\",\n      border: \"border-rose-100\",\n    },\n    {\n      label: \"Attendance Rate\",\n      value: `${safePercentage}%`,\n      icon: BarChart3,\n      color: \"text-blue-600\",\n      bg: \"bg-blue-50\",\n      border: \"border-blue-100\",\n    },\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n      {cards.map((card, idx) => (\n        <div\n          key={idx}\n          className={`bg-white p-6 rounded-2xl border ${card.border} shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] hover:shadow-lg transition-all duration-300`}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-semibold text-slate-500 mb-1\">\n                {card.label}\n              </p>\n              <h3 className=\"text-3xl font-bold text-slate-900 tracking-tight\">\n                {card.value}\n              </h3>\n            </div>\n            <div className={`p-3 rounded-xl ${card.bg}`}>\n              <card.icon className={`w-6 h-6 ${card.color}`} />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;;;AAWe,SAAS,cAAc,EAAE,KAAK,EAAc;IACzD,MAAM,iBACJ,OAAO,QAAQ,CAAC,MAAM,UAAU,IAAI,MAAM,UAAU,GAAG;IAEzD,MAAM,QAAQ;QACZ;YACE,OAAO;YACP,OAAO,MAAM,aAAa;YAC1B,MAAM,6MAAK;YACX,OAAO;YACP,IAAI;YACJ,QAAQ;QACV;QACA;YACE,OAAO;YACP,OAAO,MAAM,YAAY;YACzB,MAAM,6NAAS;YACf,OAAO;YACP,IAAI;YACJ,QAAQ;QACV;QACA;YACE,OAAO;YACP,OAAO,MAAM,WAAW;YACxB,MAAM,iNAAK;YACX,OAAO;YACP,IAAI;YACJ,QAAQ;QACV;QACA;YACE,OAAO;YACP,OAAO,GAAG,eAAe,CAAC,CAAC;YAC3B,MAAM,+NAAS;YACf,OAAO;YACP,IAAI;YACJ,QAAQ;QACV;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,8OAAC;gBAEC,WAAW,CAAC,gCAAgC,EAAE,KAAK,MAAM,CAAC,sFAAsF,CAAC;0BAEjJ,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CACV,KAAK,KAAK;;;;;;8CAEb,8OAAC;oCAAG,WAAU;8CACX,KAAK,KAAK;;;;;;;;;;;;sCAGf,8OAAC;4BAAI,WAAW,CAAC,eAAe,EAAE,KAAK,EAAE,EAAE;sCACzC,cAAA,8OAAC,KAAK,IAAI;gCAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,KAAK,EAAE;;;;;;;;;;;;;;;;;eAb5C;;;;;;;;;;AAoBf"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/components/admin-dashboard/AttendanceManager.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/admin-dashboard/AttendanceManager.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin-dashboard/AttendanceManager.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0]}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/components/admin-dashboard/AttendanceManager.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/admin-dashboard/AttendanceManager.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/admin-dashboard/AttendanceManager.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/components/admin-dashboard/StudentDirectory.tsx"],"sourcesContent":["import { AlertCircle, Droplets, Mail, Phone } from \"lucide-react\";\n\ninterface Student {\n  id: string;\n  name: string;\n  roll: string;\n  email: string;\n  phone: string;\n  bloodGroup: string;\n  healthIssues: boolean;\n  healthDetails?: string;\n}\n\ninterface DirectoryProps {\n  students: Student[];\n}\n\nexport default function StudentDirectory({ students }: DirectoryProps) {\n  const hasStudents = students.length > 0;\n\n  return (\n    <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n      <div className=\"px-6 py-5 border-b border-gray-100 bg-white\">\n        <h3 className=\"text-lg font-bold text-slate-900\">Student Directory</h3>\n        <p className=\"text-slate-500 text-sm\">Contact and health information</p>\n      </div>\n\n      {!hasStudents ? (\n        <div className=\"py-16 text-center text-slate-400 text-sm\">\n          No students found.\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm text-left\">\n            <thead className=\"bg-slate-50 border-b border-gray-100 text-xs font-bold text-slate-500 uppercase tracking-wider\">\n              <tr>\n                <th className=\"px-6 py-4\">Identity</th>\n                <th className=\"px-6 py-4\">Contact</th>\n                <th className=\"px-6 py-4\">Medical</th>\n              </tr>\n            </thead>\n\n            <tbody className=\"divide-y divide-gray-50\">\n              {students.map((student) => (\n                <tr\n                  key={student.id}\n                  className=\"hover:bg-slate-50/50 transition-colors\"\n                >\n                  {/* Identity */}\n                  <td className=\"px-6 py-4\">\n                    <div className=\"font-bold text-slate-900\">\n                      {student.name}\n                    </div>\n                    <div className=\"text-slate-500 text-xs mt-0.5\">\n                      {student.roll}\n                    </div>\n                  </td>\n\n                  {/* Contact */}\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex flex-col gap-1.5\">\n                      <a\n                        href={`mailto:${student.email}`}\n                        className=\"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors\"\n                      >\n                        <Mail className=\"w-3.5 h-3.5 text-indigo-400\" />\n                        {student.email}\n                      </a>\n                      <a\n                        href={`tel:${student.phone}`}\n                        className=\"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors\"\n                      >\n                        <Phone className=\"w-3.5 h-3.5 text-indigo-400\" />\n                        {student.phone}\n                      </a>\n                    </div>\n                  </td>\n\n                  {/* Medical */}\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-bold border border-slate-200\">\n                        <Droplets className=\"w-3 h-3 text-rose-500\" />\n                        {student.bloodGroup}\n                      </span>\n\n                      {student.healthIssues && (\n                        <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-amber-50 text-amber-700 text-xs font-bold border border-amber-200\">\n                          <AlertCircle className=\"w-3 h-3\" />\n                          {student.healthDetails || \"Health Issue\"}\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;;;AAiBe,SAAS,iBAAiB,EAAE,QAAQ,EAAkB;IACnE,MAAM,cAAc,SAAS,MAAM,GAAG;IAEtC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,8OAAC;wBAAE,WAAU;kCAAyB;;;;;;;;;;;;YAGvC,CAAC,4BACA,8OAAC;gBAAI,WAAU;0BAA2C;;;;;qCAI1D,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8OAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8OAAC;wCAAG,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAI9B,8OAAC;4BAAM,WAAU;sCACd,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;oCAEC,WAAU;;sDAGV,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC;oDAAI,WAAU;8DACZ,QAAQ,IAAI;;;;;;8DAEf,8OAAC;oDAAI,WAAU;8DACZ,QAAQ,IAAI;;;;;;;;;;;;sDAKjB,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,MAAM,CAAC,OAAO,EAAE,QAAQ,KAAK,EAAE;wDAC/B,WAAU;;0EAEV,8OAAC,0MAAI;gEAAC,WAAU;;;;;;4DACf,QAAQ,KAAK;;;;;;;kEAEhB,8OAAC;wDACC,MAAM,CAAC,IAAI,EAAE,QAAQ,KAAK,EAAE;wDAC5B,WAAU;;0EAEV,8OAAC,6MAAK;gEAAC,WAAU;;;;;;4DAChB,QAAQ,KAAK;;;;;;;;;;;;;;;;;;sDAMpB,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;;0EACd,8OAAC,sNAAQ;gEAAC,WAAU;;;;;;4DACnB,QAAQ,UAAU;;;;;;;oDAGpB,QAAQ,YAAY,kBACnB,8OAAC;wDAAK,WAAU;;0EACd,8OAAC,mOAAW;gEAAC,WAAU;;;;;;4DACtB,QAAQ,aAAa,IAAI;;;;;;;;;;;;;;;;;;;mCA5C7B,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDjC"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///Users/shivakumarkotagiri/developer/client-work/hsg-v2/HSG-web/app/admin/dashboard/page.tsx"],"sourcesContent":["import { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/authOptions\"; \nimport prisma from \"@/lib/prisma\";\nimport { redirect } from \"next/navigation\";\n\nimport AdminHeader from \"@/components/admin-dashboard/AdminHeader\";\nimport StatsOverview from \"@/components/admin-dashboard/StatsOverview\";\nimport AttendanceManager from \"@/components/admin-dashboard/AttendanceManager\";\nimport StudentDirectory from \"@/components/admin-dashboard/StudentDirectory\";\n\nexport default async function AdminDashboard() {\n  const session = await getServerSession(authOptions);\n\n  if (!session || session.user.role !== \"admin\") {\n    redirect(\"/login\");\n  }\n\n  const students = await prisma.student.findMany({\n    orderBy: { fullName: \"asc\" },\n  });\n\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  const attendanceToday = await prisma.attendance.findMany({\n    where: { date: new Date(today) },\n  });\n\n  const presentToday = attendanceToday.filter(a => a.status === \"PRESENT\").length;\n  const totalStudents = students.length;\n  const absentToday = totalStudents - presentToday;\n\n  return (\n    <div className=\"min-h-screen bg-slate-50\">\n      <AdminHeader\n        admin={{\n          email: session.user.email!,\n          role: \"ADMIN\",\n          avatar: \"/admin-avatar.png\",\n        }}\n      />\n\n      <main className=\"max-w-7xl mx-auto px-6 py-10\">\n        <StatsOverview\n          stats={{\n            totalStudents,\n            presentToday,\n            absentToday,\n            percentage:\n              totalStudents === 0\n                ? 0\n                : Math.round((presentToday / totalStudents) * 100),\n          }}\n        />\n\n        <AttendanceManager\n          students={students.map(s => ({\n            id: s.id,\n            name: s.fullName,\n            roll: s.username,\n            status:\n              attendanceToday.find(a => a.studentId === s.id)?.status ??\n              \"ABSENT\",\n          }))}\n        />\n\n        <StudentDirectory\n          students={students.map(s => ({\n            id: s.id,\n            name: s.fullName,\n            roll: s.username,\n            email: s.email,\n            phone: s.mobileNumber,\n            bloodGroup: s.bloodGroup,\n            healthIssues: s.healthIssues === \"YES\",\n          }))}\n        />\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,yJAAgB,EAAC,iIAAW;IAElD,IAAI,CAAC,WAAW,QAAQ,IAAI,CAAC,IAAI,KAAK,SAAS;QAC7C,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,WAAW,MAAM,wHAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC7C,SAAS;YAAE,UAAU;QAAM;IAC7B;IAEA,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAEpD,MAAM,kBAAkB,MAAM,wHAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;QACvD,OAAO;YAAE,MAAM,IAAI,KAAK;QAAO;IACjC;IAEA,MAAM,eAAe,gBAAgB,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,WAAW,MAAM;IAC/E,MAAM,gBAAgB,SAAS,MAAM;IACrC,MAAM,cAAc,gBAAgB;IAEpC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,2JAAW;gBACV,OAAO;oBACL,OAAO,QAAQ,IAAI,CAAC,KAAK;oBACzB,MAAM;oBACN,QAAQ;gBACV;;;;;;0BAGF,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,6JAAa;wBACZ,OAAO;4BACL;4BACA;4BACA;4BACA,YACE,kBAAkB,IACd,IACA,KAAK,KAAK,CAAC,AAAC,eAAe,gBAAiB;wBACpD;;;;;;kCAGF,8OAAC,iKAAiB;wBAChB,UAAU,SAAS,GAAG,CAAC,CAAA,IAAK,CAAC;gCAC3B,IAAI,EAAE,EAAE;gCACR,MAAM,EAAE,QAAQ;gCAChB,MAAM,EAAE,QAAQ;gCAChB,QACE,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,EAAE,EAAE,GAAG,UACjD;4BACJ,CAAC;;;;;;kCAGH,8OAAC,gKAAgB;wBACf,UAAU,SAAS,GAAG,CAAC,CAAA,IAAK,CAAC;gCAC3B,IAAI,EAAE,EAAE;gCACR,MAAM,EAAE,QAAQ;gCAChB,MAAM,EAAE,QAAQ;gCAChB,OAAO,EAAE,KAAK;gCACd,OAAO,EAAE,YAAY;gCACrB,YAAY,EAAE,UAAU;gCACxB,cAAc,EAAE,YAAY,KAAK;4BACnC,CAAC;;;;;;;;;;;;;;;;;;AAKX"}}]
}